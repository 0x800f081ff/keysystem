<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
/* === Background animation === */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  overflow-x: hidden;
  background: #111;
  color: #fff;
}
.background-animation {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(270deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
  background-size: 800% 800%;
  animation: gradientMove 20s ease infinite;
  z-index: -1;
}
@keyframes gradientMove {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

/* === Container === */
.container {
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

/* === Table styling === */
.custom-table {
  width: 100%;
  border-collapse: collapse;
  background: rgba(0,0,0,0.6);
  border-radius: 10px;
  overflow: hidden;
}
.custom-table th, .custom-table td {
  padding: 12px;
  text-align: left;
}
.custom-table th {
  background: rgba(255,255,255,0.1);
}
.custom-table tr:nth-child(even) {
  background: rgba(255,255,255,0.05);
}

/* === Input styling === */
.custom-input {
  padding: 6px 10px;
  border-radius: 5px;
  border: none;
  background: rgba(255,255,255,0.2);
  color: #fff;
  outline: none;
  margin-right: 5px;
}

/* === Button styling === */
.btn-connect {
  position: relative;
  padding: 8px 20px;
  background: #6a5af9;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  overflow: hidden;
}
.btn-connect::before {
  content: "";
  position: absolute;
  top: 0; left: -100%;
  width: 100%;
  height: 100%;
  background: rgba(255,255,255,0.2);
  transition: left 0.3s;
}
.btn-connect:hover::before {
  left: 0;
}
.btn-connect:active {
  transform: scale(0.97);
  transition: transform 0.1s;
}

/* === License update animation === */
.license-count {
  transition: all 0.5s;
}
.license-count.decreased {
  color: #ff4d4d;
  font-weight: bold;
  transform: scale(1.2);
}
</style>
</head>
<body>

<div class="background-animation"></div>

<div class="container">
  <h1>Users</h1>
  <table class="custom-table">
    <thead>
      <tr>
        <th>User</th>
        <th>Email</th>
        <th>Active Licenses</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="usersTableBody">
      <tr data-user-id="1">
        <td>John Doe</td>
        <td>john@example.com</td>
        <td class="license-count" data-count="3">3</td>
        <td class="actions">
          <input type="password" id="newPassword-1" placeholder="New password" class="custom-input">
          <button class="btn-connect" onclick="adminAction('change_password', 1)">Change Password</button>
        </td>
      </tr>
      <tr data-user-id="2">
        <td>Jane Smith</td>
        <td>jane@example.com</td>
        <td class="license-count" data-count="2">2</td>
        <td class="actions">
          <input type="password" id="newPassword-2" placeholder="New password" class="custom-input">
          <button class="btn-connect" onclick="adminAction('change_password', 2)">Change Password</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<script>
/* === Fake backend data for demo === */
let usersData = [
  {id: 1, licenses: 3},
  {id: 2, licenses: 2},
];

/* === Admin action handler === */
function adminAction(action, idOrKey) {
  if(action === 'change_password' && idOrKey) {
    const newPassword = document.getElementById(`newPassword-${idOrKey}`).value.trim();
    if(!newPassword) return alert('Enter a new password');
    // Simulate API call
    alert(`Password for user ${idOrKey} changed to: ${newPassword}`);
    document.getElementById(`newPassword-${idOrKey}`).value = '';
  }
}

/* === Active licenses updater === */
function updateLicenses() {
  usersData.forEach(user => {
    const row = document.querySelector(`tr[data-user-id='${user.id}']`);
    const licenseCell = row.querySelector('.license-count');
    let current = parseInt(licenseCell.textContent);
    if(current > 0) {
      current--; // simulate license expiration
      licenseCell.textContent = current;
      licenseCell.classList.add('decreased');
      setTimeout(() => licenseCell.classList.remove('decreased'), 800);
    }
  });
}

/* Update every 5 seconds for demo */
setInterval(updateLicenses, 5000);
</script>

</body>
</html>
